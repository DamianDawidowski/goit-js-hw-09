{"mappings":"gfAAAA,EAAA,SAEA,IAAMC,EAAOC,SAASC,cAAc,QAC9BC,EAASF,SAASG,iBAAiB,SAiCvC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAE3BC,YAAW,WACTC,QAAQC,IAAI,cACUC,KAAKC,SAAW,GAEpCN,EAAQ,CAAEO,SAAAV,EAAUC,iBAKlBG,EAAK,CAAEM,SAAAV,EAAUC,gB,GAEpB,I,IAMT,SAASU,EAAQC,G,IAAEC,EAAFD,EAAEF,SAAUT,EAAZW,EAAYX,aAC3Ba,OAAOC,QAAQ,sBAAuCC,OAAfH,EAAS,QAAmBG,OAAbf,EAAa,M,CAGrE,SAASgB,EAAUL,G,IAAEM,EAAFN,EAAEF,SAAUT,EAAZW,EAAYX,aAC7Ba,OAAOK,QAAQ,uBAAsCH,OAAfE,EAAS,QAAmBF,OAAbf,EAAa,M,CArDpEP,EAAK0B,iBAAiB,UAGtB,SAA2BC,GACzBA,EAAMC,eACWzB,EAAO,GAAG0B,MAS3B,IATA,IACIC,EAAYC,WAAW5B,EAAO,GAAG0B,OACjCG,EAAiB7B,EAAO,GAAG0B,MAC3BtB,EAAeuB,EAMVG,EAAW,EAAGA,GAAYD,EAAgBC,IAGjD5B,EAAc4B,EAAU1B,GAAc2B,KAAKX,GAAWY,MAAMlB,GAI5DV,GAAgBwB,WAAWD,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('form');\nconst inputs = document.querySelectorAll('input');\n\nlet position = 0;\n \n\nform.addEventListener('submit', createAllPromises);\n \n\nfunction createAllPromises(event) {\n  event.preventDefault;\n  let firstDelay = inputs[0].value;\n  let delayStep = parseFloat(inputs[1].value);\n  let promisedAmount = inputs[2].value;\n  let PromiseDelay = delayStep;\n  // console.log(\n  //   firstDelay\n  // );\n  // console.log(`firstDelay: ${firstDelay},delayStep: ${delayStep},promisedAmount: ${promisedAmount}`);\n  // console.log(`firstDelay: ${firstDelay},delayStep: ${delayStep},promisedAmount: ${promisedAmount}`);\n  for (let position = 1; position <= promisedAmount; position++) {\n\n    // createPromise(position, delayStep);\n    createPromise(position, PromiseDelay).then(onSuccess).catch(onError);\n\n  \n    // console.log(`position ${position}`);\n    PromiseDelay += parseFloat(delayStep);\n   \n  }\n}\n\n \n\n  function createPromise(position, PromiseDelay) {\n    return new Promise((resolve, reject) => {\n   \n      setTimeout(() => {\n        console.log('TimedOUT!!');\n        const shouldResolve = Math.random() > 0.3;\n        if (shouldResolve) {\n          resolve({ position, PromiseDelay });\n          // console.log(`✅ Fulfilled promise ${position} in ${PromiseDelay}ms`);\n          // Fulfill\n        } else {\n          // console.log(`❌ Rejected promise ${position} in ${PromiseDelay}ms`);\n          reject({ position, PromiseDelay });\n        }\n      }, 1000);\n      // console.log(PromiseDelay);\n \n    });\n} ;\n \nfunction onError({ position, PromiseDelay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${PromiseDelay}ms`);\n}\n\nfunction onSuccess({ position, PromiseDelay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${PromiseDelay}ms`);\n}\n\n\n\n\n\n\n// // XXXXXXXXXXXXXXXXXXXXXXX\n\n// // Change value of isSuccess variable to call resolve or reject\n// const isSuccess = true;\n\n// const promise = new Promise((resolve, reject) => {\n//   setTimeout(() => {\n//     if (isSuccess) {\n//       resolve(\"Success! Value passed to resolve function\");\n//     } else {\n//       reject(\"Error! Error passed to reject function\");\n//     }\n//   }, 4000);\n// });\n\n// // Will run first\n// console.log(\"Before promise.then()\");\n\n// // Registering promise callbacks\n// promise.then(\n//   // onResolve will run third or not at all\n//   value => {\n//     console.log(\"onResolve call inside promise.then()\");\n//     console.log(value); // \"Success! Value passed to resolve function\"\n//   },\n//   // onReject will run third or not at all\n//   error => {\n//     console.log(\"onReject call inside promise.then()\");\n//     console.log(error); // \"Error! Error passed to reject function\"\n//   }\n// );\n\n// // Will run second\n// console.log(\"After promise.then()\");"],"names":["parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inputs","querySelectorAll","$ce04d3a99e08e73b$var$createPromise","position2","PromiseDelay","Promise","resolve","reject","setTimeout","console","log","Math","random","position","$ce04d3a99e08e73b$var$onError","param","position3","Notify","failure","concat","$ce04d3a99e08e73b$var$onSuccess","position4","success","addEventListener","event","preventDefault","value","delayStep","parseFloat","promisedAmount","position1","then","catch"],"version":3,"file":"03-promises.7e5fa098.js.map"}